define(["../core","../var/document","./var/rsingleTag","../traversing/findFilter"],function(t,e,n){"use strict";var i,r=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,s=t.fn.init=function(s,h,u){var f,o;if(!s)return this;if(u=u||i,"string"==typeof s){if(!(f="<"===s[0]&&">"===s[s.length-1]&&s.length>=3?[null,s,null]:r.exec(s))||!f[1]&&h)return!h||h.jquery?(h||u).find(s):this.constructor(h).find(s);if(f[1]){if(h=h instanceof t?h[0]:h,t.merge(this,t.parseHTML(f[1],h&&h.nodeType?h.ownerDocument||h:e,!0)),n.test(f[1])&&t.isPlainObject(h))for(f in h)t.isFunction(this[f])?this[f](h[f]):this.attr(f,h[f]);return this}return o=e.getElementById(f[2]),o&&(this[0]=o,this.length=1),this}return s.nodeType?(this[0]=s,this.length=1,this):t.isFunction(s)?u.ready!==undefined?u.ready(s):s(t):t.makeArray(s,this)};return s.prototype=t.fn,i=t(e),s});